{% load widget_tweaks %}

<!-- Form sections similar to your register.html but adapted for admin use -->
<div class="space-y-6">
    <!-- Personal Information -->
    <div class="bg-gray-50 p-5 rounded-lg border border-gray-200">
        <h3 class="text-lg font-semibold text-gray-800 mb-4">Personal Information</h3>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- Column 1 -->
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Title</label>
                    {{ form.title }}
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Full Name*</label>
                    {{ form.full_name }}
                    {{ form.full_name.errors }}
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Date of Birth*</label>
                    {{ form.date_of_birth }}
                    {{ form.date_of_birth.errors }}
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Gender*</label>
                    {{ form.gender }}
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Email Address</label>
                    {{ form.email }}
                </div>
            </div>
            
            <!-- Column 2 -->
            <div class="space-y-4">
                
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Phone Number*</label>
                    {{ form.phone_number }}
                    {{ form.phone_number.errors }}
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Marital Status</label>
                    {{ form.marital_status }}
                </div>
               
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">State of Origin</label>
                        {{ form.state_of_origin }}
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">LGA of Origin</label>
                        {{ form.lga_of_origin }}
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Town</label>
                        {{ form.town }}
                    </div>
                
                
                <!-- Marriage Details -->
                <div id="marriageDetails" class="hidden space-y-4 bg-blue-50 p-4 rounded-md border border-blue-100">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Marriage Date</label>
                        {{ form.marriage_date }}
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Marriage Details</label>
                        {{ form.marriage_details }}
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Death Registry -->
        {% comment %} <div class="mt-6 pt-4 border-t border-gray-200">
            <div class="flex items-center">
                {{ form.deceased }}
                <label for="id_deceased" class="ml-2 block text-sm font-medium text-gray-700">Mark as deceased</label>
            </div> {% endcomment %}
            
            <!-- Death Details -->
            {% comment %} <div id="deathDetails" class="hidden space-y-4 mt-4 bg-gray-50 p-4 rounded-md border border-gray-200">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Date of Death</label>
                    {{ form.date_of_death }}
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Death Details</label>
                    {{ form.death_details }}
                </div>
            </div> {% endcomment %}
        </div>
    </div>
    
    <!-- Church Details -->
    <div class="bg-gray-50 p-5 rounded-lg border border-gray-200">
        <h3 class="text-lg font-semibold text-gray-800 mb-4">Parish Details</h3>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Deanery*</label>
                    {{ form.deanery }}
                    {{ form.deanery.errors }}
                </div>

                <div>
                    <label class="block text-gray-700 mb-1">{{ form.parish.label }}*</label>
                    <input type="text" name="parish" id="parishInput" required
                           value="{{ form.parish.value|default_if_none:'' }}"
                           class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                           placeholder="Start typing to search parishes..."
                           autocomplete="off">
                    <div id="parishDropdown" class="hidden absolute z-10 mt-1 w-full max-w-md bg-white shadow-lg rounded-md border border-gray-300 max-h-60 overflow-auto"></div>
                    {% if form.parish.errors %}
                    <p class="text-red-500 text-xs mt-1">{{ form.parish.errors.as_text }}</p>
                    {% endif %}
                </div>
            </div>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Station*</label>
                    {{ form.station }}
                    {{ form.station.errors }}
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-3">Sacraments Received:</label>
                    <div class="space-y-2">
                        <div class="flex items-center">
                            {{ form.baptized }}
                            <label for="id_baptized" class="ml-2 block text-sm text-gray-700">Baptized</label>
                        </div>
                        
                        <div class="flex items-center">
                            {{ form.confirmed }}
                            <label for="id_confirmed" class="ml-2 block text-sm text-gray-700">Confirmed</label>
                        </div>
                        
                        <div class="flex items-center">
                            {{ form.first_communion }}
                            <label for="id_first_communion" class="ml-2 block text-sm text-gray-700">First Communion</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Education & Occupation -->
    <div class="bg-gray-50 p-5 rounded-lg border border-gray-200">
        <h3 class="text-lg font-semibold text-gray-800 mb-4">Education & Occupation</h3>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- Education -->
            <div class="space-y-4">
                <label class="block text-sm font-medium text-gray-700 mb-2">Highest Level of Education:</label>
                {{ form.education_level }}
            </div>
            
            <!-- Occupation -->
            <div class="space-y-4">
                <label class="block text-sm font-medium text-gray-700 mb-2">Employment Status:</label>
                {{ form.employment_status }}
                
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Occupation/Job Title</label>
                    {{ form.occupation }}
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// Toggle marriage details
document.querySelector('select[name="marital_status"]').addEventListener('change', function() {
    const marriageDetails = document.getElementById('marriageDetails');
    if (this.value === 'M') {
        marriageDetails.classList.remove('hidden');
    } else {
        marriageDetails.classList.add('hidden');
    }
});

// Toggle death details
document.getElementById('id_deceased').addEventListener('change', function() {
    const deathDetails = document.getElementById('deathDetails');
    if (this.checked) {
        deathDetails.classList.remove('hidden');
    } else {
        deathDetails.classList.add('hidden');
    }
});

// Initialize visibility on page load
document.addEventListener('DOMContentLoaded', function() {
    // Marriage details
    const maritalStatus = document.querySelector('select[name="marital_status"]');
    if (maritalStatus && maritalStatus.value === 'M') {
        document.getElementById('marriageDetails').classList.remove('hidden');
    }
    
    // Death details
    const deceased = document.getElementById('id_deceased');
    if (deceased && deceased.checked) {
        document.getElementById('deathDetails').classList.remove('hidden');
    }
});
</script>


<script>
    // Complete parish data organized by deanery
    const parishesByDeanery = {
        "Agbani Deanery": [
            "Agbani (St. John)",
            "Akpawfu (St. Philip)",
            "Akpugo (Holy Angels)",
            "Akpugo (Holy Trinity)",
            "Akpugo (Sacred Heart)",
            "Akpugo (St. Brendan)",
            "Akpugo-Ugwuafor (St. Bridget)",
            "Amagu (St Patrick)",
            "Amagunze (Holy Innocents)",
            "Amankanu-Amurri (St. Anne)",
            "Amigbo-Ozalla (St. Vincent)",
            "Amodu (St. Peter)",
            "Amurri (St. Mary)",
            "Aniyi, Amagunze (St. James)",
            "Attakwu (St. John)",
            "Eziokwe-Amurri (St. Michael)",
            "Ihuokpara (St. Mary)",
            "Imeoha (St. Paul)",
            "Ishienu Nkerefi (St. Augustine)",
            "Mburubu (St. John)",
            "Nara (St. Kevin)",
            "Nara (St. Pius)",
            "Nkerefi (St. Patrick)",
            "Nomeh (St. Patrick)",
            "Obe (St. Anthony)",
            "Obeagu-Attakwu (St. Joseph)",
            "Ogonogo-Eji Akpugo (St. Jude)",
            "Onicha-Agu, Amagunze(St. Martin)",
            "Ozalla (St. Paul)",
            "Ugbawka (Holy Trinity)",
            "Ugbawka (St. James)",
            "Umuatugbuoma, Akagbe (St. Francis)",
            "Chime John"
        ],
        "Aguobu Owa Deanery": [
            "Agba-Umana (St. Anthony)",
            "Aguoba (St. Patrick)",
            "Aguobu Iwollo (St. Martin)",
            "Aguobu Owa (Christ the King)",
            "Aguobu Umumba (St. Mary)",
            "Awha Imezi (St. Michael)",
            "Awha Agbagbo (St. Paul)",
            "Awha Ndiagu (St. John Cross)",
            "Imama Iwollo (Holy Rosary)",
            "Ihuonyia Amansiodo (St. Patrick)",
            "Imezi-Owa (Our Lady of Lourdes)",
            "Iwollo (Sacred Heart)",
            "Mgbagbu-Owa (St. Paul)",
            "Mgbagbu-Owa (St. Pius)",
            "Obeleagu Umana (St. Augustine)",
            "Obeleagu Umana (St. Peter)",
            "Obinofia (St. Dominic)",
            "Obinofia Ndiuno (St. Mark)",
            "Oghe (St. Theresa)",
            "Oghe, Akama (St. Mary)",
            "Oghe, Amansiodo (St. John)",
            "Ogulogu Olo (St. Theresa)",
            "Ogwofia Imezi-Owa (St. Patrick)",
            "Okpudo Obeleagu Umana (St. Michael)",
            "Okpueze Umumba (Christ the King)",
            "Olo (Christ the King)",
            "Olo (St. Joseph)",
            "Olo Ibite (St. Andrew)",
            "Olo, Imezi (St. Paul)",
            "Omughu (St. Joseph)",
            "Ugwuetiti-Amansiodo Oghe (St. Joseph)",
            "Umuaji-Mgbagbuowa (Holy Rosary)",
            "Umana Ndiagu (St. Mark)",
            "Umudim – Imezi Owa (St. Charles)",
            "Umudim – Aguobu Owa (Immaculate Conception)",
            "Umumba Ndiagu (St. Peter)",
            "Umumba Ndiuno (St. Mary)",
            "Upata Ezema (St. Theresa)"
        ],
        "Emene Deanery": [
            "Akpuoga (St. Mary)",
            "Emene (Emmanuel Parish)",
            "Emene (Our Lady of the Rosary)",
            "Emene (St. Joseph)",
            "Emene (Holy Trinity)",
            "Emene, Destiny/ Standard Layout, (Queen of Divine Love)",
            "Ezza Akpuoga (Corpus Christi)",
            "Ezza Nkomoro Onuogba Nike (Holy Child)",
            "Ezza Nkwubo (Corpus Christi)",
            "Idodo (St. Charles)",
            "Nchatancha, Queen of the Apostles",
            "Nwanne Di Na Mba-New Haven Extension (St. Dominic)",
            "Obinagu (St. Hyacinth)",
            "Onu Ogba-Nike (St. Paul)",
            "Oruku, (St. Mary)",
            "Owo (St. Mary)",
            "Premier Estate (St. Michael)",
            "Mbulu Owo (St. Anthony)",
            "Nkpologwu/ PRODA (St. Peter)",
            "Ubahu (St. John)",
            "Ugwuomu Nike (St. Mary)",
            "Umuode (St. Rita)"
        ],
        "Enugu Deanery": [
            "Akwuke (St Evaristus)",
            "Akwuke (St. Mary)",
            "Amachala Ngwo (St. Michael)",
            "Amechi (St. Jude)",
            "Amechi, Amagugwu (Holy Trinity)",
            "Amechi, Ihuorie (St. Michael)",
            "Asata (St. Aloysius)",
            "Asata (St. Brigid)",
            "Asata (St. Michael)",
            "Awkunanaw (Maria Assumpta)",
            "Awkunanaw (St. Paul)",
            "Awkunanaw (Virgo Potens)",
            "Awkunanaw, Obeagu (St. Anthony)",
            "Awkunanaw (St. Patrick)",
            "Ekulu, G.R.A. (Christ the King)",
            "Garriki (St. Peter)",
            "Garriki (St. Raphael)",
            "Golf Estate (Holy Spirit)",
            "Hilltop Enugu (Holy Trinity)",
            "Idaw-River (St. Gabriel)",
            "Idaw-River (St. Gregory the Great)",
            "Idaw-River (St. Theresa)",
            "Ind. Layout (Blessed Sacrament)",
            "Ind. Layout (Holy Trinity)",
            "Ind. Layout (Rosa Mystica)",
            "Iva Valley (Our Lady of Mercy)",
            "Iva Valley, Pottery (St. Patrick)",
            "Jamboree (St. Joseph the Worker)",
            "Maryland (Our Lady of Lourdes)",
            "Maryland (St. Anne)",
            "Mount Awkunanaw (St. Andrew)",
            "New Haven (St. Mulumba)",
            "New Haven (Our Lady of Perpetual Help)",
            "New Haven (St. Callistus)",
            "Ngene Evu, Camp (St. Ambrose)",
            "Ngwo (Christ the King)",
            "Ngwo (St. Mary)",
            "Ngwo, Akama (St. Peter)",
            "Ngwo (St. Theresa)",
            "Ngwo, Uborji (St. Joseph)",
            "Nineth Mile (St. Jude)",
            "Ogbete (St. Patrick)",
            "Ogui (Holy Ghost)",
            "Ogui New Layout (St. Anthony)",
            "Ologo (Holy Family)",
            "Ugwu Aaron (St. Peter)",
            "Ugwuaji, (St. Michael)",
            "Umuase-Ngwo (St. Anthony)",
            "Uno Okpete (Immaculate Heart)",
            "UNTH (St. Martin de Poress)",
            "Uwani (Sacred Heart)",
            "Uwani (St. Mary)"
        ],
        "Nkwo Nike Deanery": [
            "Abakpa (St. Theresa)",
            "Abakpa, Anioma Layout (St. Jude)",
            "Abakpa, Edward Nnaji Estate (St. Joseph)",
            "Ako Nike (St. Patrick)",
            "Alulu & Nokpa Nike (Two Hearts of Jesus and Mary)",
            "Federal Housing (St. Leo the Great)",
            "Housing Estate (Seat of Wisdom)",
            "Ibagwa-Nike (All Saints)",
            "Ifo Layout, Abakpa Nike (St. Benedict)",
            "Iji Nike (Holy Cross)",
            "Ndorommiri (Queen of Peace)",
            "Mbano Nike (St. Michael)",
            "Mbulu-Owehe, Nike (St. Paul)",
            "New G.R.A. (St. Anthony)",
            "Nkwo Nike (Assumption)",
            "Trans-Ekulu, Community Estate (Mater Dei – Mother of God)",
            "Trans-Ekulu (St. Mary)",
            "Trans-Ekulu Phase 6 (Blessed Tansi)",
            "Trans-Ekulu, RCC Quarters (St. John the Beloved Apostle)",
            "Ugbene (SS. Peter& Paul)",
            "Ugbene II (St. Francis)",
            "Ugbo-Odogwu (St. Theresa)",
            "Ugbo Owa (Stella Maris)",
            "Ugwogo Nike (St. Joseph)",
            "Ugwuagor (Queen of the H/Rosary)",
            "Ugwuegede (Immaculate Conception)",
            "Umuchigbo, Iji Nike (St. Mary)"
        ],
        "Udi Deanery": [
            "Agu-Abor (SS Simon & Jude)",
            "Abia (St. Mark)",
            "Abor (St. Peter)",
            "Abor (St. Theresa)",
            "Affa (St. John)",
            "Affa Amofia-Agu (St. Mary)",
            "Affa Amokwu (St. Michael)",
            "Agbalaenyi Nachi (St. Maria Goretti)",
            "Agbudu (St. Alfred)",
            "Akpakwume/Nze (St. Augustine)",
            "Amokwe (St. Anthony)",
            "Amokwe (St. Patrick)",
            "Amokwe (St. Paul)",
            "Amokwe (St. Theresa)",
            "Awhum (St. Luke)",
            "Ebe (St. John)",
            "Egede (St. Cyril)",
            "Eke (St. Paul)",
            "Nachi (St. Mary)",
            "Nsude (St. Mark)",
            "Obinagu (St. Dominic)",
            "Obinagu (St. Paul)",
            "Obioma (St. Theresa)",
            "Ogui-Eke (St. Michael)",
            "Okpatu (Holy Family)",
            "Okpatu (St. Joseph)",
            "Oma-Eke (St. Anthony)",
            "Udi (St. Mary)",
            "Ukana (St. Joseph)",
            "Umabi (Holy Family)",
            "Umuoka (St. Andrew)",
            "Umuaga (St. Peter)",
            "Umuaga (St. Anthony)",
            "Umulumgbe (St. Anthony)",
            "Umulumgbe (St. Michael)"
        ]
    };
    
    // Current selected deanery
    let currentDeanery = '';
    
    // Watch for deanery selection changes
    document.querySelector('select[name="deanery"]').addEventListener('change', function() {
        currentDeanery = this.value;
        document.getElementById('parishInput').value = '';
        document.getElementById('parishDropdown').classList.add('hidden');
    });
    
    // Parish search functionality
    document.getElementById('parishInput').addEventListener('input', function(e) {
        const input = e.target.value.toLowerCase();
        const dropdown = document.getElementById('parishDropdown');
        
        if (!currentDeanery || input.length < 2) {
            dropdown.classList.add('hidden');
            return;
        }
        
        const parishes = parishesByDeanery[currentDeanery] || [];
        const filteredParishes = parishes.filter(parish => 
            parish.toLowerCase().includes(input)
        );
        
        if (filteredParishes.length > 0) {
            dropdown.innerHTML = filteredParishes.map(parish => `
                <div class="px-4 py-2 hover:bg-blue-50 cursor-pointer border-b border-gray-100 last:border-b-0" 
                     onclick="selectParish('${parish.replace(/'/g, "\\'")}')">
                    ${parish}
                </div>
            `).join('');
            dropdown.classList.remove('hidden');
        } else {
            dropdown.innerHTML = `
                <div class="px-4 py-2 text-gray-500">
                    No matching parishes found
                </div>
            `;
            dropdown.classList.remove('hidden');
        }
    });
    
    // Select parish from dropdown
    function selectParish(parish) {
        document.getElementById('parishInput').value = parish;
        document.getElementById('parishDropdown').classList.add('hidden');
    }
    
    // Close dropdown when clicking outside
    document.addEventListener('click', function(e) {
        if (!e.target.closest('#parishInput') && !e.target.closest('#parishDropdown')) {
            document.getElementById('parishDropdown').classList.add('hidden');
        }
    });
    
    // Add keyboard navigation
    document.getElementById('parishInput').addEventListener('keydown', function(e) {
        const dropdown = document.getElementById('parishDropdown');
        const items = dropdown.querySelectorAll('div');
        let currentFocus = -1;
    
        if (dropdown.classList.contains('hidden')) return;
    
        // Down arrow
        if (e.key === 'ArrowDown') {
            e.preventDefault();
            currentFocus = Math.min(currentFocus + 1, items.length - 1);
            items.forEach(item => item.classList.remove('bg-blue-100'));
            if (currentFocus >= 0) {
                items[currentFocus].classList.add('bg-blue-100');
                items[currentFocus].scrollIntoView({ block: 'nearest' });
            }
        }
        // Up arrow
        else if (e.key === 'ArrowUp') {
            e.preventDefault();
            currentFocus = Math.max(currentFocus - 1, -1);
            items.forEach(item => item.classList.remove('bg-blue-100'));
            if (currentFocus >= 0) {
                items[currentFocus].classList.add('bg-blue-100');
                items[currentFocus].scrollIntoView({ block: 'nearest' });
            }
        }
        // Enter
        else if (e.key === 'Enter') {
            e.preventDefault();
            if (currentFocus >= 0) {
                selectParish(items[currentFocus].textContent);
            }
        }
    });
    </script>

    <script>
        // state_of_origin

    const stateLgaMap = {
        "Abia": ["Aba North", "Aba South", "Arochukwu", "Bende", "Ikwuano", "Isiala Ngwa North", "Isiala Ngwa South", 
                "Isuikwuato", "Obi Ngwa", "Ohafia", "Osisioma", "Ugwunagbo", "Ukwa East", "Ukwa West", "Umuahia North", 
                "Umuahia South", "Umu Nneochi"],
        "Adamawa": ["Demsa", "Fufure", "Ganye", "Gayuk", "Gombi", "Grie", "Hong", "Jada", "Larmurde", "Madagali", 
                   "Maiha", "Mayo Belwa", "Michika", "Mubi North", "Mubi South", "Numan", "Shelleng", "Song", 
                   "Toungo", "Yola North", "Yola South"],
        "Akwa Ibom": ["Abak", "Eastern Obolo", "Eket", "Esit Eket", "Essien Udim", "Etim Ekpo", "Etinan", "Ibeno", 
                     "Ibesikpo Asutan", "Ibiono-Ibom", "Ika", "Ikono", "Ikot Abasi", "Ikot Ekpene", "Ini", "Itu", 
                     "Mbo", "Mkpat-Enin", "Nsit-Atai", "Nsit-Ibom", "Nsit-Ubium", "Obot Akara", "Okobo", "Onna", 
                     "Oron", "Oruk Anam", "Udung-Uko", "Ukanafun", "Uruan", "Urue-Offong/Oruko", "Uyo"],
        "Anambra": ["Aguata", "Anambra East", "Anambra West", "Anaocha", "Awka North", "Awka South", "Ayamelum", 
                   "Dunukofia", "Ekwusigo", "Idemili North", "Idemili South", "Ihiala", "Njikoka", "Nnewi North", 
                   "Nnewi South", "Ogbaru", "Onitsha North", "Onitsha South", "Orumba North", "Orumba South", "Oyi"],
        "Bauchi": ["Alkaleri", "Bauchi", "Bogoro", "Damban", "Darazo", "Dass", "Gamawa", "Ganjuwa", "Giade", "Itas/Gadau", 
                  "Jama'are", "Katagum", "Kirfi", "Misau", "Ningi", "Shira", "Tafawa Balewa", "Toro", "Warji", "Zaki"],
        "Bayelsa": ["Brass", "Ekeremor", "Kolokuma/Opokuma", "Nembe", "Ogbia", "Sagbama", "Southern Ijaw", "Yenagoa"],
        "Benue": ["Ado", "Agatu", "Apa", "Buruku", "Gboko", "Guma", "Gwer East", "Gwer West", "Katsina-Ala", "Konshisha", 
                "Kwande", "Logo", "Makurdi", "Obi", "Ogbadibo", "Ohimini", "Oju", "Okpokwu", "Oturkpo", "Tarka", "Ukum", 
                "Ushongo", "Vandeikya"],
        "Borno": ["Abadam", "Askira/Uba", "Bama", "Bayo", "Biu", "Chibok", "Damboa", "Dikwa", "Gubio", "Guzamala", "Gwoza", 
                 "Hawul", "Jere", "Kaga", "Kala/Balge", "Konduga", "Kukawa", "Kwaya Kusar", "Mafa", "Magumeri", "Maiduguri", 
                 "Marte", "Mobbar", "Monguno", "Ngala", "Nganzai", "Shani"],
        "Cross River": ["Abi", "Akamkpa", "Akpabuyo", "Bakassi", "Bekwarra", "Biase", "Boki", "Calabar Municipal", 
                       "Calabar South", "Etung", "Ikom", "Obanliku", "Obubra", "Obudu", "Odukpani", "Ogoja", "Yakuur", "Yala"],
        "Delta": ["Aniocha North", "Aniocha South", "Bomadi", "Burutu", "Ethiope East", "Ethiope West", "Ika North East", 
                 "Ika South", "Isoko North", "Isoko South", "Ndokwa East", "Ndokwa West", "Okpe", "Oshimili North", 
                 "Oshimili South", "Patani", "Sapele", "Udu", "Ughelli North", "Ughelli South", "Ukwuani", "Uvwie", 
                 "Warri North", "Warri South", "Warri South West"],
        "Ebonyi": ["Abakaliki", "Afikpo North", "Afikpo South", "Ebonyi", "Ezza North", "Ezza South", "Ikwo", "Ishielu", 
                  "Ivo", "Izzi", "Ohaozara", "Ohaukwu", "Onicha"],
        "Edo": ["Akoko-Edo", "Egor", "Esan Central", "Esan North-East", "Esan South-East", "Esan West", "Etsako Central", 
               "Etsako East", "Etsako West", "Igueben", "Ikpoba Okha", "Orhionmwon", "Oredo", "Ovia North-East", 
               "Ovia South-West", "Owan East", "Owan West", "Uhunmwonde"],
        "Ekiti": ["Ado Ekiti", "Efon", "Ekiti East", "Ekiti South-West", "Ekiti West", "Emure", "Gbonyin", "Ido Osi", 
                 "Ijero", "Ikere", "Ikole", "Ilejemeje", "Irepodun/Ifelodun", "Ise/Orun", "Moba", "Oye"],
        "Enugu": ["Aninri", "Awgu", "Enugu East", "Enugu North", "Enugu South", "Ezeagu", "Igbo Etiti", "Igbo Eze North", 
                 "Igbo Eze South", "Isi Uzo", "Nkanu East", "Nkanu West", "Nsukka", "Oji River", "Udenu", "Udi", "Uzo Uwani"],
        "Gombe": ["Akko", "Balanga", "Billiri", "Dukku", "Funakaye", "Gombe", "Kaltungo", "Kwami", "Nafada", "Shongom", "Yamaltu/Deba"],
        "Imo": ["Aboh Mbaise", "Ahiazu Mbaise", "Ehime Mbano", "Ezinihitte", "Ideato North", "Ideato South", "Ihitte/Uboma", 
               "Ikeduru", "Isiala Mbano", "Isu", "Mbaitoli", "Ngor Okpala", "Njaba", "Nkwerre", "Nwangele", "Obowo", 
               "Oguta", "Ohaji/Egbema", "Okigwe", "Orlu", "Orsu", "Oru East", "Oru West", "Owerri Municipal", "Owerri North", 
               "Owerri West", "Unuimo"],
        "Jigawa": ["Auyo", "Babura", "Biriniwa", "Birnin Kudu", "Buji", "Dutse", "Gagarawa", "Garki", "Gumel", "Guri", 
                  "Gwaram", "Gwiwa", "Hadejia", "Jahun", "Kafin Hausa", "Kazaure", "Kiri Kasama", "Kiyawa", "Kaugama", 
                  "Maigatari", "Malam Madori", "Miga", "Ringim", "Roni", "Sule Tankarkar", "Taura", "Yankwashi"],
        "Kaduna": ["Birnin Gwari", "Chikun", "Giwa", "Igabi", "Ikara", "Jaba", "Jema'a", "Kachia", "Kaduna North", 
                  "Kaduna South", "Kagarko", "Kajuru", "Kaura", "Kauru", "Kubau", "Kudan", "Lere", "Makarfi", "Sabon Gari", 
                  "Sanga", "Soba", "Zangon Kataf", "Zaria"],
        "Kano": ["Ajingi", "Albasu", "Bagwai", "Bebeji", "Bichi", "Bunkure", "Dala", "Dambatta", "Dawakin Kudu", 
                "Dawakin Tofa", "Doguwa", "Fagge", "Gabasawa", "Garko", "Garun Mallam", "Gaya", "Gezawa", "Gwale", 
                "Gwarzo", "Kabo", "Kano Municipal", "Karaye", "Kibiya", "Kiru", "Kumbotso", "Kunchi", "Kura", "Madobi", 
                "Makoda", "Minjibir", "Nasarawa", "Rano", "Rimin Gado", "Rogo", "Shanono", "Sumaila", "Takai", "Tarauni", 
                "Tofa", "Tsanyawa", "Tudun Wada", "Ungogo", "Warawa", "Wudil"],
        "Katsina": ["Bakori", "Batagarawa", "Batsari", "Baure", "Bindawa", "Charanchi", "Dandume", "Danja", "Dan Musa", 
                   "Daura", "Dutsi", "Dutsin Ma", "Faskari", "Funtua", "Ingawa", "Jibia", "Kafur", "Kaita", "Kankara", 
                   "Kankia", "Katsina", "Kurfi", "Kusada", "Mai'Adua", "Malumfashi", "Mani", "Mashi", "Matazu", "Musawa", 
                   "Rimi", "Sabuwa", "Safana", "Sandamu", "Zango"],
        "Kebbi": ["Aleiro", "Arewa Dandi", "Argungu", "Augie", "Bagudo", "Birnin Kebbi", "Bunza", "Dandi", "Fakai", 
                 "Gwandu", "Jega", "Kalgo", "Koko/Besse", "Maiyama", "Ngaski", "Sakaba", "Shanga", "Suru", "Wasagu/Danko", 
                 "Yauri", "Zuru"],
        "Kogi": ["Adavi", "Ajaokuta", "Ankpa", "Bassa", "Dekina", "Ibaji", "Idah", "Igalamela Odolu", "Ijumu", "Kabba/Bunu", 
                "Kogi", "Lokoja", "Mopa Muro", "Ofu", "Ogori/Magongo", "Okehi", "Okene", "Olamaboro", "Omala", "Yagba East", 
                "Yagba West"],
        "Kwara": ["Asa", "Baruten", "Edu", "Ekiti", "Ifelodun", "Ilorin East", "Ilorin South", "Ilorin West", "Irepodun", 
                 "Isin", "Kaiama", "Moro", "Offa", "Oke Ero", "Oyun", "Pategi"],
        "Lagos": ["Agege", "Ajeromi-Ifelodun", "Alimosho", "Amuwo-Odofin", "Apapa", "Badagry", "Epe", "Eti Osa", "Ibeju-Lekki", 
                 "Ifako-Ijaiye", "Ikeja", "Ikorodu", "Kosofe", "Lagos Island", "Lagos Mainland", "Mushin", "Ojo", "Oshodi-Isolo", 
                 "Shomolu", "Surulere"],
        "Nasarawa": ["Akwanga", "Awe", "Doma", "Karu", "Keana", "Keffi", "Kokona", "Lafia", "Nasarawa", "Nasarawa Egon", 
                    "Obi", "Toto", "Wamba"],
        "Niger": ["Agaie", "Agwara", "Bida", "Borgu", "Bosso", "Chanchaga", "Edati", "Gbako", "Gurara", "Katcha", "Kontagora", 
                 "Lapai", "Lavun", "Magama", "Mariga", "Mashegu", "Mokwa", "Moya", "Paikoro", "Rafi", "Rijau", "Shiroro", 
                 "Suleja", "Tafa", "Wushishi"],
        "Ogun": ["Abeokuta North", "Abeokuta South", "Ado-Odo/Ota", "Egbado North", "Egbado South", "Ewekoro", "Ifo", 
                "Ijebu East", "Ijebu North", "Ijebu North East", "Ijebu Ode", "Ikenne", "Imeko Afon", "Ipokia", "Obafemi Owode", 
                "Odeda", "Odogbolu", "Ogun Waterside", "Remo North", "Shagamu"],
        "Ondo": ["Akoko North-East", "Akoko North-West", "Akoko South-East", "Akoko South-West", "Akure North", "Akure South", 
                "Ese Odo", "Idanre", "Ifedore", "Ilaje", "Ile Oluji/Okeigbo", "Irele", "Odigbo", "Okitipupa", "Ondo East", 
                "Ondo West", "Ose", "Owo"],
        "Osun": ["Aiyedade", "Aiyedire", "Atakunmosa East", "Atakunmosa West", "Boluwaduro", "Boripe", "Ede North", "Ede South", 
                "Egbedore", "Ejigbo", "Ife Central", "Ife East", "Ife North", "Ife South", "Ifedayo", "Ifelodun", "Ila", 
                "Ilesa East", "Ilesa West", "Irepodun", "Irewole", "Isokan", "Iwo", "Obokun", "Odo Otin", "Ola Oluwa", 
                "Olorunda", "Oriade", "Orolu", "Osogbo"],
        "Oyo": ["Afijio", "Akinyele", "Atiba", "Atisbo", "Egbeda", "Ibadan North", "Ibadan North-East", "Ibadan North-West", 
               "Ibadan South-East", "Ibadan South-West", "Ibarapa Central", "Ibarapa East", "Ibarapa North", "Ido", 
               "Irepo", "Iseyin", "Itesiwaju", "Iwajowa", "Kajola", "Lagelu", "Ogbomosho North", "Ogbomosho South", 
               "Ogo Oluwa", "Olorunsogo", "Oluyole", "Ona Ara", "Orelope", "Ori Ire", "Oyo East", "Oyo West", "Saki East", 
               "Saki West", "Surulere"],
        "Plateau": ["Barkin Ladi", "Bassa", "Bokkos", "Jos East", "Jos North", "Jos South", "Kanam", "Kanke", "Langtang North", 
                   "Langtang South", "Mangu", "Mikang", "Pankshin", "Qua'an Pan", "Riyom", "Shendam", "Wase"],
        "Rivers": ["Abua/Odual", "Ahoada East", "Ahoada West", "Akuku-Toru", "Andoni", "Asari-Toru", "Bonny", "Degema", 
                  "Eleme", "Emuoha", "Etche", "Gokana", "Ikwerre", "Khana", "Obio/Akpor", "Ogba/Egbema/Ndoni", "Ogu/Bolo", 
                  "Okrika", "Omuma", "Opobo/Nkoro", "Oyigbo", "Port Harcourt", "Tai"],
        "Sokoto": ["Binji", "Bodinga", "Dange Shuni", "Gada", "Goronyo", "Gudu", "Gwadabawa", "Illela", "Isa", "Kebbe", 
                  "Kware", "Rabah", "Sabon Birni", "Shagari", "Silame", "Sokoto North", "Sokoto South", "Tambuwal", 
                  "Tangaza", "Tureta", "Wamako", "Wurno", "Yabo"],
        "Taraba": ["Ardo Kola", "Bali", "Donga", "Gashaka", "Gassol", "Ibi", "Jalingo", "Karim Lamido", "Kumi", "Lau", 
                  "Sardauna", "Takum", "Ussa", "Wukari", "Yorro", "Zing"],
        "Yobe": ["Bade", "Bursari", "Damaturu", "Fika", "Fune", "Geidam", "Gujba", "Gulani", "Jakusko", "Karasuwa", 
                "Machina", "Nangere", "Nguru", "Potiskum", "Tarmuwa", "Yunusari", "Yusufari"],
        "Zamfara": ["Anka", "Bakura", "Birnin Magaji/Kiyaw", "Bukkuyum", "Bungudu", "Gummi", "Gusau", "Kaura Namoda", 
                   "Maradun", "Maru", "Shinkafi", "Talata Mafara", "Chafe", "Zurmi"],
        "FCT": ["Abaji", "Bwari", "Gwagwalada", "Kuje", "Kwali", "Municipal Area Council"]
    };

// Function to populate LGAs based on selected state
function populateLgas(stateSelect, lgaSelect) {
    const selectedState = stateSelect.value;
    lgaSelect.innerHTML = '<option value="">Select LGA</option>';
    
    if (selectedState && stateLgaMap[selectedState]) {
        stateLgaMap[selectedState].forEach(lga => {
            const option = document.createElement('option');
            option.value = lga;
            option.textContent = lga;
            lgaSelect.appendChild(option);
        });
    }
}

// Initialize the state-LGA relationship when DOM loads
document.addEventListener('DOMContentLoaded', function() {
    const stateSelect = document.querySelector('select[name="state_of_origin"]');
    const lgaSelect = document.querySelector('select[name="lga_of_origin"]');
    
    // Populate LGAs when state changes
    stateSelect.addEventListener('change', () => {
        populateLgas(stateSelect, lgaSelect);
    });
    
    // Initialize LGAs if state is already selected (for form editing)
    if (stateSelect.value) {
        populateLgas(stateSelect, lgaSelect);
    }
});
      </script>